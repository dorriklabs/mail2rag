# ==============================================
# MAIL2RAG CONFIGURATION
# ==============================================

# --- IMAP Settings (Incoming Mail) ---
IMAP_SERVER=imap.gmail.com
IMAP_PORT=993
IMAP_USER=your-email@gmail.com
IMAP_PASSWORD=your-app-password
IMAP_FOLDER=INBOX
# Criteria: UNSEEN, ALL, or custom search criteria
IMAP_SEARCH_CRITERIA=UNSEEN
# Polling interval in seconds
IMAP_POLL_INTERVAL=60

# --- SMTP Settings (Outgoing Replies) ---
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=your-email@gmail.com

# --- AnythingLLM Configuration ---
# URL of the AnythingLLM instance (internal docker network alias usually works)
ANYTHINGLLM_BASE_URL=http://anythingllm:3001
ANYTHINGLLM_API_KEY=your-anythingllm-api-key-here
# Default workspace if routing rules don't match
DEFAULT_WORKSPACE=general

# --- RAG Proxy & Search Settings ---
# URL of the RAG Proxy service
RAG_PROXY_URL=http://rag_proxy:8000
# Set to true to use RAG Proxy (Hybrid Search) instead of direct AnythingLLM vector search
USE_RAG_PROXY_FOR_SEARCH=false

# --- LLM Configuration (for RAG Proxy / Summaries) ---
# URL for LM Studio or compatible OpenAI API
LM_STUDIO_URL=http://host.docker.internal:1234
# Model name to use in requests
AI_MODEL_NAME=your-model-name
DEFAULT_LLM_TEMPERATURE=0.7
DEFAULT_SYSTEM_PROMPT="You are a helpful assistant."

# --- Archive Server ---
# Public URL base for accessing archived documents (used in emails)
ARCHIVE_BASE_URL=http://localhost:8080

# --- Application Features ---
# Enable AI-generated summaries of emails
ENABLE_EMAIL_SUMMARY=true
# Save chat history to archive (log only, not indexed)
SAVE_CHAT_HISTORY=true
# Sync workspaces on startup
SYNC_ON_START=true
# Cleanup archive before syncing (use with caution)
CLEANUP_ARCHIVE_BEFORE_SYNC=false

# --- Worker & Performance ---
WORKER_COUNT=2
WORKER_QUEUE_SIZE=10
MAX_FILENAME_LENGTH=100
DEFAULT_SUBJECT="No Subject"

# --- Logging ---
LOG_TRUNCATE_HEAD=2000
LOG_TRUNCATE_TAIL=2000
LOG_MAX_LINE_LENGTH=500

# ==============================================
# DOCKER SERVICES CONFIGURATION
# ==============================================

# --- RAG Proxy Internal Settings ---
VECTOR_DB_HOST=qdrant
VECTOR_DB_PORT=6333
VECTOR_DB_COLLECTION=documents
BM25_INDEX=/bm25/bm25.pkl
USE_BM25=true
REQUEST_TIMEOUT=20

# --- Paths (Internal - Do not change unless necessary) ---
STATE_PATH=/var/lib/mail2rag/state.json
ARCHIVE_PATH=/var/lib/mail2rag/mail2rag_archive
ROUTING_PATH=/etc/mail2rag/routing.json
